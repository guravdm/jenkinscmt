<div class="page_cont_padd">
	<div class="page_container">
	<div class="container">
		<!--heading text-->
		<div class="col-md-12">
			<div class="header_button">
				<!--<button type="button" class="btn btn-primary" id="wdt_re">Litigation Summary</button>-->
				<h2 style="color: #032BEC; font-size: 24px; float: left;">Export
					Customized Data</h2>
				<!-- <a href="./dashboard"><img
					src="images/DashboardIcons/backold.png" class="backButton"
					width="100px;"></a> -->
				<site-header Back="" forward="forward"></site-header>
			</div>
		</div>
		<div style="clear: both"></div>
		<!--first form-->
		<form class="form-horizontal" role="form">
			<div class="f_form_content">
				<h2>Export Data Search</h2>

				<div class="col-md-12">
					<div class="col-md-4">
						<div class="form-group">
							<label class="control-label col-sm-4" for="sel1">Entity :</label>
							<div class="col-sm-8">
								<select
									ng-options="o.orga_id as o.orga_name for o in originalEntity"
									ng-model="searchObj.orga_id" ng-change="getUnitList(); getExecutorEvaluatorList()"
									class="form-control">
									<option value="">--Select--</option>
								</select>
							</div>
						</div>
					</div>
					<div class="col-md-4">
						<div class="form-group">
							<label class="control-label col-sm-4" for="sel1">Unit :</label>
							<div class="col-sm-8">
								<select ng-options="l.loca_id as l.loca_name for l in UnitList | orderBy:'loca_name'"
									ng-model="searchObj.loca_id" ng-change="getFunctionList()"
									class="form-control">
									<option value="">--Select--</option>
								</select>
							</div>
						</div>
					</div>

					<div class="col-md-4">
						<div class="form-group">
							<label class="control-label col-sm-4" for="dept_id">Function
								:</label>
							<div class="col-sm-8">
								<select
									ng-options="d.dept_id as d.dept_name for d in FunctionList"
									ng-model="searchObj.dept_id"
									ng-change="getExecutorEvaluatorList()" class="form-control">
									<option value="">--Select--</option>
								</select>
							</div>
						</div>
					</div>

				</div>
				
				<div  ng-if="showAdvanceSearch">
					<div class="col-md-12">
						<div class="col-md-4">
							<div class="form-group">
								<label class="control-label col-sm-4" for="sel1">Evaluator
									:</label>
								<div class="col-sm-8">
									<select
										ng-options="e.user_id as e.user_name for e in evaluatorList"
										ng-model="searchObj.evaluator_id" ng-change=""
										class="form-control">
										<option value="">--Select--</option>
									</select>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<label class="control-label col-sm-4" for="sel1">Executor
									:</label>
								<div class="col-sm-8">
									<select
										ng-options="e.user_id as e.user_name for e in executorList"
										ng-model="searchObj.executor_id" ng-change=""
										class="form-control">
										<option value="">--Select--</option>
									</select>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<label class="control-label col-sm-4" for="sel1">Category
									of Law :</label>
								<div class="col-sm-8">
									<select class="form-control"
										ng-options="c.task_cat_law_id as c.task_cat_law for c in originalCatLaw"
										ng-model="searchObj.cat_law_id">
										<option value="">--Select--</option>
									</select>
								</div>
							</div>
						</div>
					</div>

					<div class="col-md-12">
						<div class="col-md-4">
							<div class="form-group">
								<label class="control-label col-sm-4" for="sel1">Impact
									:</label>
								<div class="col-sm-8">
									<select class="form-control" ng-model="searchObj.impact"
										ng-options="i.id as i.name for i in impactList"
										name="impact_default">
										<option value="">--Select--</option>
										<!-- <option value="Severe">Severe</option>
									<option value="Major">Major </option>
									<option value="Moderate">Moderate </option>
									<option value="Minor">Minor</option>
									<option value="Low">Low</option> -->
									</select>
								</div>
							</div>
						</div>



						<div class="col-md-4">
							<div class="form-group">
								<label class="control-label col-sm-4" for="sel1">Prohibitive
									/ Prescriptive :</label>
								<div class="col-sm-8">
									<select class="form-control" ng-options="p.id as p.name for p in Proh_Pres" ng-model="searchObj.proh_pres">
										<option value="">--Select--</option>
									    <!-- <option value="Prohibitive">Prohibitive</option>
									    <option value="Prescriptive">Prescriptive </option> -->
									</select>
								</div>
							</div>
						</div>

						<div class="col-md-4">
							<div class="form-group">
								<label class="control-label col-sm-4" for="sel1">Type of
									Task :</label>
								<div class="col-sm-8">
									<select class="form-control"
										ng-options="t.task_type_of_task as t.task_type_of_task for t in originalTypeOfTask"
										ng-model="searchObj.type_of_task">
										<option value="">--Select--</option>
									</select>
								</div>
							</div>
						</div>
					</div>

					<div class="col-md-12">
						<div class="col-md-4">
							<div class="form-group">
								<label class="control-label col-sm-4" for="sel1">Frequency
									:</label>
								<div class="col-sm-8">
									<select class="form-control"
										ng-options="f.task_frequency as f.task_frequency for f in originalFrequency"
										ng-model="searchObj.frequency">
										<option value="">--Select--</option>
										<!-- <option value="Ongoing">Ongoing</option>
									<option value="One_Time">One Time</option>
									<option value="Weekly">Weekly</option>
									<option value="Fortnightly">Fortnightly</option>
									<option value="Monthly">Monthly</option>
									<option value="Quarterly">Quarterly</option>
									<option value="Half_Yearly">Half Yearly</option>
									<option value="Five_Yearly">Five Yearly</option>
									<option value="Ten_Yearly">Ten Yearly</option>
									<option value="Event_Based">Event based</option> -->
									</select>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<label class="control-label col-sm-4" for="sel1">Events
									:</label>
								<div class="col-sm-8">
									<select class="form-control" id="event">
										<option value="NA">NA</option>
									</select>
								</div>
							</div>
						</div>
						<!-- <div class="col-md-4">
							<div class="form-group">
								<label class="control-label col-sm-4" for="sel1">Sub-Events :</label>
								<div class="col-sm-8">
									<select class="form-control" id="sub_event">
										<option value="NA">NA</option>
									</select>
								</div>
							</div>
						</div> -->
						<div class="col-md-4">
							<div class="form-group">
								<label class="control-label col-sm-5" for="sel1">Active/Inactive
									:</label>
								<div class="col-sm-7">
									<select class="form-control" ng-model="searchObj.task_status">
										<option value="">All</option>
										<option value="Active">Active</option>
										<option value="Inactive">Inactive</option>
									</select>
								</div>
							</div>
						</div>
					</div>

					<div class="col-md-12">
						<div class="form-group">
							<label class="control-label col-sm-1" for="sel1">Legislation
								:</label>
							<div class="col-sm-11">
								<ui-select ng-model="legiList.selected" theme="bootstrap"
										style="max-width: 545px;" ng-change="getalllegiRuleList();getEventSubEvent()"> 
										<ui-select-match placeholder="Select legislation">{{$select.selected.task_legi_name}}
										<button class="clear" ng-click="clearLegiList($event)">X</button>
										</ui-select-match>
									<ui-select-choices
										repeat="legiList in alllegiList | propsFilter: {task_legi_name: $select.search}">

									<div
										ng-bind-html="legiList.task_legi_name | highlight: $select.search"></div>
<!-- 									{{legiList.task_legi_name}}  -->
									</ui-select-choices> </ui-select>
							</div>
						</div>
					</div>
					<div class="col-md-12">
						<div class="form-group">
							<label class="control-label col-sm-1" for="sel1">Rule :</label>
							<div class="col-sm-11">
								<ui-select ng-model="legiRuleL.selected" ng-change="getEventSubEvent()" theme="bootstrap"  style="max-width: 545px;">
								    <ui-select-match placeholder="Select rules">
								     <button class="clear" ng-click="clearLegiRuleL($event)">X</button>
								    {{$select.selected.task_rule_name}}</ui-select-match>
								    <ui-select-choices repeat="legiRuleL in legiRuleList | propsFilter: {task_rule_name: $select.search}">
								     
								      <div ng-bind-html="legiRuleL.task_rule_name | highlight: $select.search"></div>
<!-- 								      {{legiRuleL.task_rule_name}} -->
								    </ui-select-choices>
								  </ui-select>
							</div>
							<br /> <br /> <br />
						</div>
					</div>
				</div>
				<div class="col-md-12 litigation_buttons" id="searchButtons">
					<br>
					<center>
						<button type="reset" ng-click="showAdvance()"
							class="btn btn-myWarning" id="search">Advance Search</button>
					</center>
				</div>
				
				<!-- End export Selected colomns -->

				
			</div>
		</form>
		
		<div class="row" >
					<div class="f_form_content">
						<h2>Select Checklist Columns</h2>
						<div class="col-md-12">
						<div class="col-md-3 dark">
							<center>
								<input type="checkbox" name="SelectAll" id="selectAll"
									ng-model="selectedAll" ng-change="checkAll()">&nbsp; <label>Select
									All</label>
							</center>
						</div>
							<table class="table table-striped table-bordered">
								<tr>
									<td><input type="checkbox" ng-model="country"
										value="country">
										Country</td>
									<td><input type="checkbox" ng-model="procedure"
										value="procedure" >
										Procedure</td>
									<td><input type="checkbox" ng-model="taskImpact"
										value="taskImpact">
										Task impact</td>
									<td><input type="checkbox"
										ng-model="prohibitivePrecriptive"
										value="prohibitivePrecriptive">
										Prohibitive / prescriptive</td>
									
								</tr>
								<tr>
									<td><input type="checkbox" ng-model="state" value="state"> State</td>
									<td><input type="checkbox" ng-model="frequency"
										value="frequency">
										Frequency</td>
									<td><input type="checkbox" ng-model="organizationImpact"
										value="organizationImpact"> Impact on
										organization</td>
									<td><input type="checkbox" ng-model="specificDueDate" value="specificDueDate" >
										Specific Due Date</td>
								</tr>
								<tr>
									<td><input type="checkbox" ng-model="categoryOfLaw" value="categoryOfLaw" >
										Category Of Law</td>
									<td><input type="checkbox" ng-model="legalDueDate" value="legalDueDate" >
										Legal Due Date</td>
									<td><input type="checkbox" ng-model="unitImpact" value="unitImpact" >
										Impact On Unit</td>
									<td><input type="checkbox" ng-model="subEvent" value="subEvent"> Sub
										Event</td>
								</tr>
								<tr>
									<td><input type="checkbox" ng-model="legislation" value="legislation">
										Legislation</td>
									<td><input type="checkbox" ng-model="effectiveDate" value="effectiveDate"> Effective Date</td>
									<td><input type="checkbox" ng-model="implication"  value="implication">
										Implication</td>
									<td><input type="checkbox" ng-model="subsequentAmountPerDay" value="subsequentAmountPerDay">
										Subsequent Amount per day</td>
								</tr>
								<tr>
									<td><input type="checkbox" ng-model="rule" value="rule"> Rule</td>
									<td><input type="checkbox" ng-model="event" value="event"> Event</td>
									<td><input type="checkbox" ng-model="imprisonmentDuration" value="imprisonmentDuration">
										Imprisonment Duration</td>
									<td><input type="checkbox" ng-model="typeOfTask" value="typeOfTask">
										Type of task</td>
								</tr>
								<tr>
									<td><input type="checkbox" ng-model="reference" value="reference">
										Reference</td>
									<td><input type="checkbox" ng-model="exemptionCreiteria" value="exemptionCreiteria">
										Exemption Criteria</td>
									<td><input type="checkbox" ng-model="imprisonmentAppliesTo" value="imprisonmentAppliesTo">
										Imprisonment Applies To</td>
									<td><input type="checkbox" ng-model="weblink" value="weblink">
										Weblinks</td>
								</tr>
								<tr>
									<td><input type="checkbox" ng-model="who" value="who"> Who</td>
									<td><input type="checkbox" ng-model="fineAmount" value="fineAmount">
										Fine Amount</td>
									<td><input type="checkbox" ng-model="taskLevel" value="taskLevel"> Task
										level</td>
									<td><input type="checkbox" ng-model="statutoryAuthority" value="statutoryAuthority">
										Statutory Authority</td>
								</tr>
								<tr>
									<td><input type="checkbox" ng-model="when" value="when"> When</td>

									<td><input type="checkbox" ng-model="linkedTaskId" value="linkedTaskId">
										Linked Task Id</td>
									<td><input type="checkbox" ng-model="moreInfo" value="moreInfo"> More
										Information</td>
								</tr>
								<tr>
									<td><input type="checkbox" ng-model="complianceActivity" value="complianceActivity">
										Compliance Activity</td>
									<td><input type="checkbox" ng-model="formNo" value="formNo"> Form No</td>
									<td><input type="checkbox" ng-model="interlinkage"
										value="interlinkage">
										Interlinkage</td>
									
								</tr>
							</table>
						</div>
					</div>
					<div class="f_form_content" style="margin-top: 50px;">
						<h2>Select Configuration</h2>
						<div class="col-md-12">
							<table class="table table-striped table-bordered">
								<tr>
									<td><input type="checkbox" ng-model="configuredFrequency" value="configuredFrequency">
										Config. Frequency</td>
									<td><input type="checkbox" ng-model="configuredLegalDueDate" value="configuredLegalDueDate">
										Config. Legal Due Date</td>
									<td><input type="checkbox" ng-model="configuredUnitHeadDate" value="configuredUnitHeadDate">
										Unit Head Date</td>
									<td><input type="checkbox" ng-model="configuredFunctionHeadDate"
										value="configuredFunctionHeadDate"> Function Head Date</td>
									<td><input type="checkbox" ng-model="configuredEvaluatorDate" value="configuredEvaluatorDate">
										Evaluator Date</td>
									<td><input type="checkbox" ng-model="ConfiguredExecutorDate" value="ConfiguredExecutorDate">
										Executor Date</td>
									<td><input type="checkbox" ng-model="ConfiguredStatus" value="ConfiguredStatus">
										Status</td>
								</tr>
								<tr>
									<td><input type="checkbox" ng-model="entityName" value="entityName">
										Entity</td>
									<td><input type="checkbox" ng-model="unitName" value="unitName"> Unit</td>
									<td><input type="checkbox" ng-model="departmentName" value="departmentName">
										Function</td>
									<td><input type="checkbox" ng-model="executorName" value="executorName">
										Executor Name</td>
									<td><input type="checkbox" ng-model="evaluatorName" value="evaluatorName">
										Evaluator Name</td>
									<td><input type="checkbox" ng-model="functionHeadName" value="functionHeadName">
										Function Head Name</td>
									<!-- <td><input type="checkbox" ng-model="unitHeadName" value="unitHeadName">
										Unit Head Name</td> -->
								</tr>
							</table>
						</div>
					</div>
				</div>
				<div class="col-md-12 litigation_buttons" id="searchButtons">
					<br>
					<center>
						<button type="button" class="btn btn-myPrimary"
							ng-click="toggle();searchRepository()" data-toggle="exportTable" ng-model="Export" id="ExportTask"
							name="ExportTask">Export Data</button>
						<!-- <button type="reset" ng-click="showAdvance()"
							class="btn btn-myWarning" id="search">Advance Search</button> -->
					</center>
				</div>

				<div class="row">
					<div class="col-md-12">
						<div style="">
							
							<div class="panel-body" id="exportTable">
								<div class="row">
									<div class="col-md-12">
										<div class="col-md-4"></div>
										<div class="col-md-4">
											<div class="list-group border-bottom">
											<div ng-hide="ExportTask">
												<a ng-click="ExportExcels_ExportData()" 
												class="list-group-item col-md-6"><img
													src='images/reportIcons/xls.png' width="24" /> XLS</a>
												
												<a ng-click="generateExportData_Pdf()"
													class="list-group-item col-md-6" onClick=""><img
													src='images/reportIcons/pdf.png' width="24" /> PDF</a>
											</div>
											</div>
										</div>
										<div class="col-md-4"></div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
		
		
		

		<div ng-if="exportData.length>0">
			
				<div style="overflow-x: scroll;" id="ExportData">
					<div class="col-md-3">
				<h2 style="margin-top: 0px;">
					<label class="control-label lblcount" id="totaltask">Export Data({{exportData.length}})</label>
				</h2>
			</div>
					<table ng-if="exportData.length>0"  id="exportData" name="exportData" class="table table-striped table-bordered"
					width="100%" cellspacing="0">
					<thead>
						<tr id="table_row">
							<th >Client task ID</th>
							<th ng-show="country">Country</th>
							<th ng-show="state">State</th>
							<th ng-show="categoryOfLaw">Category Of Law</th>
							<th ng-show="legislation">Legislation</th>
							<th ng-show="rule">Rule</th>
							<th ng-show="reference">Reference</th>
							<th ng-show="who">Who</th>
							<th ng-show="when">When</th>
							<th ng-show="complianceActivity">Compliance Activity</th>
							<th ng-show="procedure">Procedure</th>
							<th ng-show="frequency">Frequency</th>
							<th ng-show="legalDueDate">Legal Due date</th>
							<th ng-show="effectiveDate">Effective Date</th>
							<th ng-show="event">Event</th>
							<th ng-show="exemptionCreiteria">Exemption Criteria</th>
							<th ng-show="fineAmount">Fine Amount</th>
							<th ng-show="formNo">Form No</th>
							<th ng-show="taskImpact">Task Impact</th>
							<th ng-show="organizationImpact">Impact on organization</th>
							<th ng-show="unitImpact">Impact On Unit</th>
							<th ng-show="implication">Implication</th>
							<th ng-show="imprisonmentDuration">Imprisonment Duration</th>
							<th ng-show="imprisonmentAppliesTo">Imprisonment Applies To</th>
							<th ng-show="taskLevel">Task level</th>
							<th ng-show="linkedTaskId">Linked Task Id</th>
							<th ng-show="moreInfo">More Information</th>
							<th ng-show="interlinkage">Interlinkage</th>
							<th ng-show="prohibitivePrecriptive">Prohibitive / prescriptive</th>
							<th ng-show="specificDueDate">Specific Due Date</th>
							<th ng-show="subEvent">Sub Event</th>
							<th ng-show="subsequentAmountPerDay">Subsequent Amount per day</th>
							<th ng-show="typeOfTask">Type Of Task</th>
							<th ng-show="weblink">Weblinks</th>
							<th ng-show="statutoryAuthority">Statutory Authority</th>
							<th ng-show="configuredFrequency">Config. Frequency</th>
							<th ng-show="configuredLegalDueDate">Config. Legal Due Date</th>
							<th ng-show="configuredUnitHeadDate">Unit Head Date</th>
							<th ng-show="configuredFunctionHeadDate">Function Head Date</th>
							<th ng-show="configuredEvaluatorDate">Evaluator Date</th>
							<th ng-show="ConfiguredExecutorDate">Executor Date</th>
							<th ng-show="ConfiguredStatus">Status</th>
							<th ng-show="entityName">Entity</th>
							<th ng-show="unitName">Unit</th>
							<th ng-show="departmentName">Function</th>
							<th ng-show="executorName">Executor Name</th>
							<th ng-show="evaluatorName">Evaluator Name</th>
							<th ng-show="functionHeadName">Function Head Name</th>
							<!-- <th ng-show="unitHeadName">Unit Head Name</th> -->
							
						</tr>
					</thead>
					<tbody>
						<tr  ng-repeat="export in exportData" ng-if="exportData.length>0" >
							<td>{{export.tmap_client_task_id}}</a></td>
							<td ng-show="country">{{export.task_country}}</td>
							<td ng-show="state">{{export.task_state}}</td>
							<td ng-show="categoryOfLaw">{{export.task_cat_law}}</td>
							<td ng-show="legislation">{{export.task_legi_name}}</td>
							<td ng-show="rule">{{export.task_rule_name}}</td>
							<td ng-show="reference">{{export.task_reference}}</td>
							<td ng-show="who">{{export.task_activity_who}}</td>
							<td ng-show="when">{{export.task_activity_when}}</td>
							<td ng-show="complianceActivity">{{export.task_activity}}</td>
							<td ng-show="procedure">{{export.task_procedure}}</td>
							<td ng-show="frequency">{{export.task_frequency_for_operation}}</td>
							<td ng-show="legalDueDate">{{export.task_legal_due_date}}</td>
							<td ng-show="effectiveDate">{{export.task_effective_date}}</td>
							<td ng-show="event">{{export.task_event}}</td>
							<td ng-show="exemptionCreiteria">{{export.task_excemption_criteria}}</td>
							<td ng-show="fineAmount">{{export.task_fine_amount}}</td>
							<td ng-show="formNo">{{export.task_form_no}}</td>
							<td ng-show="taskImpact">{{export.task_impact}}</td>
							<td ng-show="organizationImpact">{{export.task_impact_organization}}</td>
							<td ng-show="unitImpact">{{export.task_impact_on_unit}}</td>
							<td ng-show="implication">{{export.task_implications}}</td>
							<td ng-show="imprisonmentDuration">{{export.task_imprisonment_duration}}</td>
							<td ng-show="imprisonmentAppliesTo">{{export.task_imprisonment_applies_to}}</td>
							<td ng-show="taskLevel">{{export.task_level}}</td>
							<td ng-show="linkedTaskId">{{export.task_linked_task_id}}</td>
							<td ng-show="moreInfo">{{export.task_more_info}}</td>
							<td ng-show="interlinkage">{{export.task_interlinkage}}</td>
							<td ng-show="prohibitivePrecriptive">{{export.task_prohibitive}}</td>
							<td ng-show="specificDueDate">{{export.task_specific_due_date}}</td>
							<td ng-show="subEvent">{{export.task_sub_event}}</td>
							<td ng-show="subsequentAmountPerDay">{{export.task_subsequent_amount_per_day}}</td>
							<td ng-show="typeOfTask">{{export.task_type_of_task}}</td>
							<td ng-show="weblink">{{export.task_weblinks}}</td>
							<td ng-show="statutoryAuthority">{{export.task_statutory_authority}}</td>
							<td ng-show="configuredFrequency">{{export.task_frequency_for_operation}}</td>
							<td ng-show="configuredLegalDueDate">{{export.task_legal_due_date}}</td>
							<td ng-show="configuredUnitHeadDate">{{export.task_uh_due_date}}</td>
							<td ng-show="configuredFunctionHeadDate">{{export.task_fh_due_date}}</td>
							<td ng-show="configuredEvaluatorDate">{{export.task_rw_due_date}}</td>
							<td ng-show="ConfiguredExecutorDate">{{export.task_pr_due_date}}</td>
							<td ng-show="ConfiguredStatus">{{export.ttrn_status}}</td>
							<td ng-show="entityName">{{export.orga_name}}</td>
							<td ng-show="unitName">{{export.loca_name}}</td>
							<td ng-show="departmentName">{{export.dept_name}}</td>
							<td ng-show="executorName">{{export.performer_name}}</td>
							<td ng-show="evaluatorName">{{export.reviewer_name}}</td>
							<td ng-show="functionHeadName">{{export.functionHead_name}}</td>
							<!-- <td ng-show="unitHeadName">{{export.task_statutory_authority}}</td> -->
						</tr>
					</tbody>
				</table>
				</div>
				<div ng-if="exportData.length==0">
				<table class="table table-striped table-bordered"
					width="100%" cellspacing="0">
					<tbody>
						<tr>
							<td colspan=12><center>No record found</center></td>
						</tr>
					</tbody>
				</table>
				</div>
			
		</div>
	</div>
</div>
</div>