<div>
<div class="page_cont_padd">
<div class="page_container">
<!--heading text-->

			<div class="col-md-12">
				<div class="header_button">
					<!--<button type="button" class="btn btn-primary" id="wdt_re">Litigation Summary</button>-->
					<h2 style="color:#032BEC;font-size:24px;float:left;">Entity Mapping</h2>
					<!-- <a ng-click="backToPreviousState()"><img src="images/DashboardIcons/backold.png" class="backButton" width="100px;"></a> -->
					<site-header Back="" forward="forward"></site-header>
				</div>
			</div>
	<div class="clear"></div>
	<form autocomplete="off" name="entitiesMappingForm" class="form-horizontal" novalidate>
		
	<div class="col-lg-12">
				<center>
					<h2 style="color: red;">&#42; Mandatory Fields</h2>
				</center>
			</div>
	
	<div class="f_form_content">
			<h2 ng-if="entityMapObj.enti_id ==0">Add Vertical Mapping</h2>
			<h2 ng-if="entityMapObj.enti_id !=0">Update Vertical Mapping</h2>
			
			<div class="col-md-12">
					<div class="col-md-4">
							<div class="form-group">
							  <label class="control-label col-sm-4" for="sel1">Vertical:</label>
								<div class="col-sm-7">
										
								<select class="form-control" name="orga_id" ng-model="entityMapObj.enti_orga" ng-options="e.orga_name for e in entityListobj" ng-change="getFunctionListByUIdEId(entityMapObj.enti_orga,entityMapObj.enti_loca)" required>
									<option value="">--Select--</option>
									</select><i class="asterisk_input"></i>
									<div ng-messages="entitiesMappingForm.orga_id.$error" ng-if="entitiesMappingForm.$submitted">
										  <span class="error-text" ng-message="required">Select Entity.</span>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							  <div class="form-group">
							  <label class="control-label col-sm-4" for="sel1">Unit:</label>
							  <div class="col-sm-7">
						<!-- 	<sf:select path="enti_loca_id" items="${allLocations}" cssClass="form-control"/><i class="asterisk_input"></i>
							<sf:errors path="enti_loca_id" cssClass="errorBlock"></sf:errors> -->
									<select class="form-control" name="enti_loca_id" ng-model="entityMapObj.enti_loca"  ng-options=" u.loca_name for u in unitListobj"  ng-change="getFunctionListByUIdEId(entityMapObj.enti_orga,entityMapObj.enti_loca)"  required>
									<option value="">--Select--</option>
									</select><i class="asterisk_input"></i>
									<div ng-messages="entitiesMappingForm.enti_loca_id.$error" ng-if="entitiesMappingForm.$submitted">
										  <span class="error-text" ng-message="required">Select unit.</span>
									</div>
							  </div>
							</div>
						</div>
						<div class="col-md-4">
							  <div class="form-group">
							  <label class="control-label col-sm-4" for="sel1">Function:</label>
							  <div class="col-sm-7">
								<select class="form-control" name="enti_dept_id" ng-model="entityMapObj.dept_list" ng-options=" f.dept_name for f in functionListobj" multiple style="height:150px" required>
<!-- 									<option value="">--Select--</option> -->
									</select><i class="asterisk_input"></i>
									<div ng-messages="entitiesMappingForm.enti_dept_id.$error" ng-if="entitiesMappingForm.$submitted">
										  <span class="error-text" ng-message="required">Select function.</span>
									</div>
							  </div>
							</div>
						</div>
			</div>
			<div class="col-md-12 litigation_buttons">
				<br>
				<div id="errors" style="color: red;"> </div>
					<center>
					
					<input type="submit" ng-if="entityMapObj.enti_id ==0" ng-click="addEntityMapping(entitiesMappingForm.$valid)" value="Add" class="btn btn-myPrimary btn-save"/>
						<input type="submit" ng-if="entityMapObj.enti_id !=0"  ng-click="updateEntityMapping(entitiesMappingForm.$valid)" value="Update" class="btn btn-myPrimary btn-update" />
					
					<!-- <input type="submit" value="Update" class="btn btn-myPrimary" onclick="saveMapping()"/> -->
					<!-- <button type="button" name="back" id="back" class="btn btn-myDefault" onclick="window.location.href ='./listEntitiesMapping' " >Back</button> -->
				</button></center>
				</div>
				</div>
			</form>
			
			<div style="clear:both"></div>
			<div>
				<div class="table_data1" ng-hide="hideMappingTable">
			
				<table id="example" class="table table-striped table-bordered" width="100%" cellspacing="0">
					<thead>
						<tr id="table_row">
							<th>Entity</th>
							<th>Unit</th>
							<th>Function</th>
						</tr>
					</thead>
					<tbody>
					<tr ng-repeat="mapplist in  entityMappingList" ng-if="entityMappingList.length>0">
						<td >{{mapplist.orga_name}}</td>
						<td>{{mapplist.unit_name}}</td>
						<td>{{mapplist.dept_name}}</td>
						</tr>
						<tr  ng-if="entityMappingList.length==0">
							<td colspan="3"><center>No records found.</center></td>
						</tr>
						</tbody>
				</table>
				</div>
			</div>
			
</div>
</div>
</div>
